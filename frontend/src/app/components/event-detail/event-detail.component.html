<div class="participant-list-wrapper">
  <div class="card">
    <div class="card-header">
      Osavõtjad
    </div>
    <div class="card-body">
      <section *ngIf="event()" class="event-info mb-4">
        <div class="event-row">
          <div class="event-label">Ürituse nimi:</div>
          <span class="event-value">{{ event()!.name }}</span>
        </div>
        <div class="event-row">
          <div class="event-label">Toimumisaeg:</div>
          <span class="event-value">{{ event()!.dateTime | date:'dd.MM.yyyy' }}</span>
        </div>
        <div class="event-row">
          <div class="event-label">Koht:</div>
          <span class="event-value">{{ event()!.location || 'Määramata' }}</span>
        </div>
      </section>

      <section class="participants-list mb-4">
        <div class="event-label">Osavõtjad:</div>
        <span class="no-participants" *ngIf="!(participants().length);">Osavõtjaid pole</span>
        <div class="participants-list" *ngIf="participants().length;">
          <div class="participant-row" *ngFor="let p of participants(); let i = index; trackBy: trackById">

            <div class="participant-col number">
              {{ i + 1 }}.
            </div>

            <div class="participant-col name" [routerLink]="'/participants/' + p.id" style="cursor: pointer;">
              <ng-container *ngIf="p.type === 'PERSON'">
                {{ p.firstName }} {{ p.lastName }}
              </ng-container>
              <ng-container *ngIf="p.type === 'COMPANY'">
                {{ p.companyName || 'Nimetu ettevõte' }}
              </ng-container>
            </div>

            <div class="participant-col code">
              <ng-container *ngIf="p.type === 'PERSON'">
                {{ p.personalCode }}
              </ng-container>
              <ng-container *ngIf="p.type === 'COMPANY'">
                {{ p.registrationCode }}
              </ng-container>
            </div>

            <div class="participant-col actions">
              <a
                href="#"
                (click)="deleteParticipant(p.id!); $event.preventDefault();"
                class="uppercase-link add-event-link"
              >KUSTUTA</a>
            </div>

          </div>
        </div>
      </section>
    </div>



      <div class="form-actions">
        <a routerLink="/events" class="btn-grey">Tagasi</a>
      </div>



  </div>
</div>
